# notesLearnJS
Современный учебник JavaScript
## Основы JavaScript
#### Строгий режим - "use strict"
###### use strict
Директива выглядит как строка: `use strict`. Когда она находится в начале скрипта, весь сценарий работает в "современном режиме". Над `use strict` могут быть записаны только комментарии. Также нет директивы типа `no use strict`, которрая бы возвращала движок к старому поведению. Как только мы входим в строгий режим, отменить это невозможно.
###### Консоль браузера
`use strict` по умолчанию выключен в браузерах. Иногда, когда это имеет значение можно получить неправильные результаты. Можно использовать `Shift + Enter` для ввода нескольких строк и написать в верхней строке `use strict`.

#### Переменные
###### Переменная
Переменная - это "именованное хранилище" для данных. Для объявления переменно в js используется ключевое слово `let`. Записанное в переменную значение сохраняется в области памяти, связанной с переменной. Доступ к ней можно получить используя имя переменной.  
###### Имена переменных
В js есть два ограничения, касающиеся имён переменных:
1. Имена переменных должно содержать только буквы, цифры или символы `$` и `_`.
2. Первый символ не должен быть цифрой.  

Если имена содержат несколько слов, то используется верблюжья нотация.
> Регистр имеет значение.  
> Нелатинские буквы разрешены, но не рекомендуются.  

Зарезервированные имена, неполный список: `let, class, return, function`.  

###### Константы
Это неизменяемые переменные. Попотка изменить такую переменную приведет к ошибке.  
Константы в верхнем регистре и с использованием подчёркивания объявляются, когда значение такой переменной не будет изменяться в процессе выполнения скрипта и известно до начала его выополнения. Например, `const COLOR_RED = "#F00"`. Если же значение константы не будет изменяться в процессе выполнения скрипта, но заранее не известно, то название такой переменной записывается в нижнем регистре с использованием верблюжьей нотации `pageLoadTime`.  
Несколько хороших правил:
- использовать легко читаемые имена
- избегать использования аббревиатур или коротких имён
- делать имена максимально описательными или лаконичными  

#### Типы данных
Значения в js всегда относятся к данным определенного типа. Есть 8 основных типов данных. Переменная в js может содержать любые данные. Языки программирования, в которых такое возможно, называются "динамически типизированными". Это значит, что типы данных есть, но переменные не привязаны ни к одному из них.
###### Число
Числовой тип дынных (number) представляет как целочисленные значения, так и числа с плавающей точкой. Также существуют "специальные числовые значения": `Infinity`, `-Infinity` и `NaN`.
- `Infinity` представляет собой математическую бесконечность. Это особое значение, которое больше любого числа. Получить его можно в результате деления на ноль или задать его явно: `alert(1 / 0); alert( Infinity );`
- `NaN` означает вычислительную ошибку. Это результат неправильной или неопределенной математической операции: `alert( "не число" / 2 );`. Любая операция с `NaN` возвращает `NaN`.
> Математические операции в js безопасны. Скрипт никогда не остановиться с фатальной ошибкой. В худшем случае мы получим `NaN` как результат выполнения.
###### BigInt
В js тип `number` не может содержать числа больше, чем `9007199254740991`. Это техническое ограничение вызвано их внутренним представлением. Для большинства случаев этого достаточно, но иногда нужны гигантские числа, например в криптографии. Чтобы создать значение типа `BigInt`, необходимо добавить `n` в конец числового литерала `const bigInt = 1234567890123456789012345678901234567890n;`.  
> В данный момент `BigInt` поддерживает только в браузерах Firefox, Chrome и Edge, но не поддерживается в Safari и IE.
###### Строка
Строка должна быть заключена в кавычки. Существует три типа кавычек:
- Двойные "Привет"
- Одинарные 'Привет'
- Обратные `Привет`  
Двойные или одинарные являются "простыми", между ними нет разницы для Js. Обратные имеют расширенную функциональность. Они позволяют встраивать выражения в строку, заключая их `${...}`.  
> В некоторых языках, для хранения одного символа, существует отдельный тип. В JS такого типа нет, есть только `string`. Строка может содержать 0 символов (быть пустой), один символ или множество.
###### Булевый (логический) тип
Может принимать только два значения: `true` или `false`. Булевые значения также иогут быть результатом сравнений, `let isGreater = 4 > 1`.
###### Значение "null"
Специальное значение, которое не относится ни к одному из типов. Оно формирует отдельный тип, который содержит только значение `null`. В JS `null` не является "ссылкой на существующий объект" или "нулевым указателем", как в других языках. Это просто специальное значение, которое представляет собой "ничего", "пусто" или "значение неизвестно".
###### Значение "undefined"
Специальное значение, оно формирует тип из самого себя так же, как и `null`. Оно означает, что "значение не было присвоено". Если переменная объявлена, но ей не присвоено никакого значения, то её значением будет `undefined`:
```js
let age;

alert(age); // выведет "undefined"
```
Технически можно присвоить значение `undefined` любой переменной, но так делать не рекомендуется. Обычно `null` используется для присвоения переменной "пустого" или "неизвестного" значения, а `undefined` - для проверок, была ли переменная назначена.
###### Объекты и символы
Тип `object` - особенный. Все остальные типы - примитивные, потому что их значениями могут быть только простые значения. В объектах же хранятся коллекции или более сложные структуры данных.
Тип `symbol` используется для создания уникальных идентификаторов в объектах.
###### Оператор typeof
Оператор `typeof` возвращает тип аргумента. Синтаксические формы:
- оператор: `typeof x`
- функция: `typeof(x)`  
Вызов `typeof` возвращает строку с именем типа:
```js
typeof undefined // "undefined"

typeof 0 // "number"

typeof 10n // "bigint"

typeof true // "boolean"

typeof "foo" // "string"

typeof Symbol("id") // "symbol"

typeof Math // "object"  (1)

typeof null // "object"  (2)

typeof alert // "function"  (3)
```
1. `Math` - это встроенный объект, который предоставляет математические операции и константы.
2. Результатом вызова `typeof null` является `object`. Это официально признанная ошибка.
3. `Alert` возвращает `function`, потому что `alert` является функцией. В JS нет специального типа "функция". Функции относятся к объектному типу. Но `typeof` обрабатывает их особым образом, возвращая `"function"`.
###### Итого
В JS есть 8 основных типов:
- `number` для любых чисел: целочисленных или чисел с плавающей точкой; целочисленные значения ограничены диапазоном `±(253-1)`.
- `bigint` для целых чисел произвольной длины.
- `string` для строк. Строка может содержать ноль или больше символов, нет отдельного символьного типа.
- `boolean` для `true` / `false`.
- `null` для неизвестных значений – отдельный тип, имеющий одно значение null.
- `undefined` для неприсвоенных значений – отдельный тип, имеющий одно значение `undefined`.
- `object` для более сложных структур данных.
- `symbol` для уникальных идентификаторов.
Оператор typeof позволяет нам увидеть, какой тип данных сохранён в переменной.
- Имеет две формы: `typeof x` или `typeof(x)`.
- Возвращает строку с именем типа. Например, `"string"`.
- Для `null` возвращается `"object"` – это ошибка в языке, на самом деле это не объект.

#### Взаимодействие: alert, prompt, confirm
###### alert
`alert("Hello");`  
Она показывает сообщение и ждёт, пока пользователь нажмёт кнопку "Ок".
###### prompt
`result = prompt(title, [default]);`  
Отобразит модальное окно с текстом, полем для ввода и кнопками ОК/Отмена. `title` - текст для отображения в окне. `default` - необязательный параметр, уст. начальное значение в поле для текста.
> Квадратные скобки в синтаксисе `[...]` означают, что параметр факультативный, необязательный.  

Если пользователь напечатает что-либо в окне и нажмет ОК, то введенный текст будет присвоен переменной `result`. Если пользователь нажмет "Отмена" или клавишу `Esc` то переменной будет присвоено значение `null`.
###### confirm
`result = confirm(question);`  
Отображает модальное окно с текстом `question` и двумя кнопками: ОК и Отмена. Вернет `true`, если нажата кнопка ОК или `false` если "Отмена".
###### Все эти методы являеются модальными: останавливают выполнение скриптов и не позволяют пользователю взаимодействовать с остальной частью страницы до тех пор, пока окно не будет закрыто.  
Ограничения:
- расположение окон определяется браузером
- визуальное отображение нельзя изменить  
#### Преобразование типов
Чаще всего операторы и функции автоматически приводят переданные им значения к нужноиу типу. Например, `alert` автоматически преобразует любое значение в строку. Математические операторы к числу.
###### Строковое преобразование
`String(value);`  
Когда требуется представление чего-либо в виде строки. Преобразование происходит очевидным образом: `false` становиться `"false"`, `null` становиться `"null"` и т.п.
###### Численное преобразование
Происходит в математ. функциях и выражениях. Можно использовать функцию `Number(value)`. Явное преобразование чаще применяется, когда мы ожидаем получить число из строкового контекста. Если строка не может быть явно приведена к числу, то результатом будет `NaN`.  
Правила численного преобразования:  
Значение           | Преобразуется в...
------------------ | -------------
`undefined`        | `NaN`
`null`             | `0`
`true` / `false`   | `1` / `0`
`string`           | Пробельные символы по краям обрезаются. Если остается пустая строка - `0`, иначе из непустой строки считывается число. При ошибке результат `NaN`.  

Большинство матем. операторов также производит данное преобразование.
###### Логическое преобразование
Происходит в логических операциях, но также может быть выполнено явно: `Boolean(value)`.  
Правила преобразования:  
Значение                                                                                 | Преобразуется в...
---------------------------------------------------------------------------------------- | -------------
Значения, которые интуитивно "пустые": `0`, `undefined`, `""`, `null` и `NaN`            | `false`
Все остальные значения                                                                   | `true`  

Заметим:
- Строка с нулём `"0"` - это `true`
- Строка с пробелом `" "` - это тоже `true` (любая непустая строка это true)
###### Итого
3 типа преобразований: строковое, численное и логическое.
- `Строковое` - происходит, когда нам нужно что-то вывести. Для примитивных значений работает очевидным образом.
- `Численное` - происходит в матем. операциях.
- `Логическое` - происходит в логических операциях.
